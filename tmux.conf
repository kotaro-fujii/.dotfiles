# ========== Shell / Session defaults ==========
# Run the user's current login shell inside tmux panes.
set -g default-command "${SHELL}"

# Reduce key-sequence timeout for snappier Escape-based operations.
set -s escape-time 10

# ========== Terminal capability settings ==========
# Use 256-color terminal description and advertise true color support.
set-option -g default-terminal screen-256color
set-option -ga terminal-overrides ",$TERM:Tc"

# ========== Status line appearance ==========
# Inactive and active window styles in the status line.
set -g window-status-format "#[fg=black,bg=green] #I:#W "
set -g window-status-current-format "#[fg=black]#{?window_zoomed_flag,#[bg=yellow],#[bg=blue]} #I:#W#{?window_zoomed_flag, [ZOOM],} "

# ========== Copy mode (vi-style) ==========
set-window-option -g mode-keys vi
bind -T copy-mode-vi v send-keys -X begin-selection
bind -T copy-mode-vi V send-keys -X select-line
bind -T copy-mode-vi C-v send-keys -X rectangle-toggle
# Copy selection to clipboard.
bind -T copy-mode-vi y send-keys -X copy-pipe-and-cancel "pbcopy"
bind -T copy-mode-vi Escape send-keys -X clear-selection

# ========== Global key bindings (without prefix) ==========
bind-key -n M-j next-window
bind-key -n M-k previous-window
bind-key -n M-h select-pane -L
bind-key -n M-l select-pane -R
bind-key -n M-z resize-pane -Z
bind-key -n M-c copy-mode
bind-key -n M-v paste-buffer

# Create panes to the left/down/up/right of the current pane.
bind-key -n M-H split-window -h -b
bind-key -n M-J split-window -v
bind-key -n M-K split-window -v -b
bind-key -n M-L split-window -h
